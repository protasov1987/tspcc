(function(g){function h(v){return v==null?'':String(v)}var L={0:'0001101',1:'0011001',2:'0010011',3:'0111101',4:'0100011',5:'0110001',6:'0101111',7:'0111011',8:'0110111',9:'0001011'};var G={0:'0100111',1:'0110011',2:'0011011',3:'0100001',4:'0011101',5:'0111001',6:'0000101',7:'0010001',8:'0001001',9:'0010111'};var R={0:'1110010',1:'1100110',2:'1101100',3:'1000010',4:'1011100',5:'1001110',6:'1010000',7:'1000100',8:'1001000',9:'1110100'};var P=['LLLLLL','LLGLGG','LLGGLG','LLGGGL','LGLLGG','LGGLLG','LGGGLL','LGLGLG','LGLGGL','LGGLGL'];function b(code){var s=h(code).replace(/\s+/g,'');if(!/^\d{13}$/.test(s)){throw new Error('Invalid EAN-13 code');}var first=parseInt(s.charAt(0),10)||0;var parity=P[first]||P[0];var pattern='101';for(var i=1;i<=6;i++){var dig=s.charAt(i);var set=parity.charAt(i-1)==='L'?L:G;pattern+=set[dig]||'';}pattern+='01010';for(var j=7;j<=12;j++){pattern+=R[s.charAt(j)]||'';}pattern+='101';return{pattern:pattern,text:s};}function d(el,val,opt){var svg=typeof el==='string'?document.querySelector(el):el;if(!svg)return;var opts=opt||{};var height=opts.height||60;var margin=opts.margin!=null?opts.margin:0;var display=opts.displayValue!==false;var enc;try{enc=b(val);}catch(e){console.error(e);return;}while(svg.firstChild){svg.removeChild(svg.firstChild);}svg.setAttribute('xmlns','http://www.w3.org/2000/svg');var width=enc.pattern.length+margin*2;var textOffset=display?16:0;svg.setAttribute('width',width);svg.setAttribute('height',height+textOffset+margin*2);var group=document.createElementNS('http://www.w3.org/2000/svg','g');group.setAttribute('transform','translate('+margin+','+margin+')');var x=0;for(var k=0;k<enc.pattern.length;k++){if(enc.pattern.charAt(k)==='1'){var rect=document.createElementNS('http://www.w3.org/2000/svg','rect');rect.setAttribute('x',x);rect.setAttribute('y',0);rect.setAttribute('width',1);rect.setAttribute('height',height);rect.setAttribute('fill','#000');group.appendChild(rect);}x+=1;}svg.appendChild(group);if(display){var text=document.createElementNS('http://www.w3.org/2000/svg','text');text.textContent=enc.text;text.setAttribute('x',margin+2);text.setAttribute('y',height+margin+12);text.setAttribute('font-size','12');text.setAttribute('font-family','"Times New Roman", serif');svg.appendChild(text);}}function JsBarcode(el,val,opt){d(el,val,opt||{});return{value:val,options:opt};}g.JsBarcode=JsBarcode;})(typeof window!=='undefined'?window:this);
